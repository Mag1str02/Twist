# Twist

Задача _Twist_ – быстро и воспроизводимо проявить ошибки многопоточной синхронизации.

## Техники

Главные техники, которые использует _Twist_, – это:

- внедрение сбоев (_fault injection_),
- детерминированная симуляция (_deterministic simulation_)
- перебор исполнений (_stateless model checking_)

### Внедрение сбоев

В точках обращения потоков к примитивам синхронизации _Twist_ внедряет «сбои» – псевдо-случайные переключения контекста,
что увеличивает покрытие графа состояний теста.

### Детерминированная симуляция

_Twist_ может моделировать недетерминированные многопоточные тесты с помощью однопоточных кооперативных файберов, что позволяет
- Детерминированно воспроизводить недетерминированные по своей природе баги
- Кастомизировать планировщик, принимающий решения о планировании (какой поток поставить исполняться, кого из очереди ожидания разбудить и т.п.) 

### Перебор исполнений

Имея симулятор многопоточных исполнений и умея кастомизировать планировщик, можно в цикле перебирать все исполнения для данного теста с помощью поиска
в глубину по расписаниям. Этот подход называется _stateless model checking_.

См. [статьи на тему](/docs/research.md).

## Документация

- [Как писать код для _Twist_](twist/code.md)
- Симуляция и планировщики
- Как писать тесты  
- Отладка
